@model HarmonyHotles.Models.Roomtype

@{
    ViewData["Title"] = "Edit Roomtype";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<h1>Edit Roomtype</h1>

<form asp-action="Edit">
    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
    <input type="hidden" asp-for="Roomtypeid" />

    <div class="form-group">
        <label asp-for="Typename" class="control-label"></label>
        <input asp-for="Typename" class="form-control" />
        <span asp-validation-for="Typename" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="Roomtypesdescription" class="control-label"></label>
        <input asp-for="Roomtypesdescription" class="form-control" />
        <span asp-validation-for="Roomtypesdescription" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="Roomsize" class="control-label"></label>
        <input asp-for="Roomsize" class="form-control" />
        <span asp-validation-for="Roomsize" class="text-danger"></span>
    </div>

    <!-- السلايدر لعرض الصور الحالية -->
    <div class="form-group">
        <label>Current Images</label>
        @if (Model.Images != null && Model.Images.Count > 0)
        {
            <div id="roomtypeImagesCarousel" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner">
                    @{
                        bool isFirst = true;
                    }
                    @foreach (var image in Model.Images)
                    {
                        <div class="carousel-item @(isFirst ? "active" : "")">
                            <img src="@Url.Content(image.Imagepath)" class="d-block w-100" alt="Roomtype Image" style="height: 400px; object-fit: cover;" />
                        </div>
                        isFirst = false;
                    }
                </div>
                <a class="carousel-control-prev" href="#roomtypeImagesCarousel" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#roomtypeImagesCarousel" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        }
        else
        {
            <p>No images available for this roomtype.</p>
        }
    </div>

    <!-- إضافة صور جديدة -->
    <div class="form-group">
        <label>Upload New Images</label>
        <input type="file" name="imageFiles" multiple class="form-control" />
    </div>

    <div class="form-group">
        <input type="submit" value="Save" class="btn btn-primary" />
    </div>
</form>

<a asp-action="Index">Back to List</a>

@section Scripts {
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
}
